<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="demkobibl.MainWindow"
        x:CompileBindings="False"
        Title="demkobibl">
    <DockPanel>
        <Grid DockPanel.Dock="Top" Height="75">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="10">
                <TextBox x:Name="SearchTextBox" TextChanged="SearchTextBox_OnTextChanged" Watermark="Поиск" Width="165" Height="45" VerticalContentAlignment="Center"/>
                <ComboBox x:Name="AuthorComboBox" Width="165" Height="45" VerticalAlignment="Center" SelectionChanged="AuthorComboBox_OnSelectionChanged"/>
                <ComboBox x:Name="GenreComboBox" Width="165" Height="45" VerticalAlignment="Center" SelectionChanged="GenreComboBox_OnSelectionChanged"/>
            </StackPanel>
            
            <StackPanel Grid.Column="2" x:Name="TopButtonsStackPanel" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="20,0" Spacing="10">
                <Button x:Name="CheckClientBooksButton" Content="Взятые книги" IsVisible="False" FontSize="16" Width="125" Height="45" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Click="CheckClientBooksButton_OnClick"/>
                <Button x:Name="LogoutButton" Content="Выйти" IsVisible="False" FontSize="16" Width="125" Height="45" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Click="LogoutButton_OnClick"/>
                <Button x:Name="AuthButton" Content="Вход" FontSize="16" Width="75" Height="45" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Click="AuthWindow_OnClick"/>
            </StackPanel>
        </Grid>
        
        <Border>
            <ListBox x:Name="BooksListBox" Margin="10">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="4"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border BorderThickness="1" Padding="5" Margin="5" Width="250">
                            <StackPanel>
                                <Image Source="{Binding Image}" Width="235" Height="335" Stretch="UniformToFill"/>
                                <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="Bold" TextAlignment="Left"/>
                                <TextBlock Text="{Binding Author}" FontSize="16" TextAlignment="Left"/>
                                <TextBlock Text="{Binding PublishYear}" FontSize="16" TextAlignment="Left"/>
                                <TextBlock Text="{Binding GenresDisplay}" FontSize="16" TextAlignment="Left"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </DockPanel>
</Window>
